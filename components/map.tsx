import {
  MapContainer,
  Polyline,
  MapConsumer,
  FeatureGroup,
  Marker,
  Tooltip

} from "react-leaflet";
import React from "react";
import { Icon } from "leaflet";
import "leaflet/dist/leaflet.css";

const polyline: [number, number][] = [
  [34.813835, 32.049623],
  [34.81384, 32.049415],
  [34.813867, 32.048231],
  [34.813855, 32.048068],
  [34.813838, 32.047835],
  [34.813821999999995, 32.047489],
  [34.813793, 32.047222999999995],
  [34.813747, 32.047012],
  [34.813666, 32.046637],
  [34.813615000000006, 32.046401],
  [34.813521, 32.045885],
  [34.813334999999995, 32.045097999999996],
  [34.813284, 32.044899],
  [34.813215, 32.044756],
  [34.813165999999995, 32.044711],
  [34.813154, 32.0447],
  [34.813059, 32.044662],
  [34.812940000000005, 32.044638],
  [34.812468, 32.044712],
  [34.811377, 32.044916],
  [34.811306, 32.044928999999996],
  [34.811166, 32.044949],
  [34.811012, 32.044971000000004],
  [34.810388, 32.045035999999996],
  [34.809895000000004, 32.045084],
  [34.80979, 32.045095],
  [34.809613, 32.045114],
  [34.809495, 32.045127],
  [34.809317, 32.045134999999995],
  [34.809162, 32.045142],
  [34.809114, 32.045145],
  [34.808331, 32.045229],
  [34.808271000000005, 32.04524],
  [34.807545000000005, 32.045364],
  [34.807506, 32.04537],
  [34.807386, 32.045394],
  [34.807087, 32.045455],
  [34.806281, 32.045634],
  [34.805611999999996, 32.045759000000004],
  [34.804764, 32.045871000000005],
  [34.804702, 32.045884],
  [34.804590999999995, 32.045905],
  [34.80435, 32.045952],
  [34.803758, 32.046068],
  [34.803561, 32.046106],
  [34.803436, 32.046135],
  [34.803265, 32.046171],
  [34.8031, 32.046205],
  [34.801957, 32.046446],
  [34.801702, 32.046494],
  [34.801121, 32.046597999999996],
  [34.801026, 32.046615],
  [34.799978, 32.046803000000004],
  [34.799283, 32.046928],
  [34.799217999999996, 32.047003000000004],
  [34.799211, 32.047011],
  [34.799176, 32.047057],
  [34.799147, 32.047126],
  [34.799123, 32.047208000000005],
  [34.799152, 32.047381],
  [34.799182, 32.047538],
  [34.799232, 32.047798],
  [34.799349, 32.048388],
  [34.799459999999996, 32.049029],
  [34.799547, 32.049534],
  [34.799572, 32.049652],
  [34.799611, 32.049828999999995],
  [34.799620000000004, 32.049872],
  [34.799642, 32.049976],
  [34.799788, 32.050655],
  [34.799909, 32.051213],
  [34.799981, 32.051603],
  [34.800067999999996, 32.052067],
  [34.80012, 32.052607],
  [34.800187, 32.05327],
  [34.800197999999995, 32.053383000000004],
  [34.800261, 32.054294],
  [34.800278000000006, 32.054528000000005],
  [34.800404, 32.056144],
  [34.800489, 32.057666],
  [34.800477, 32.058217],
  [34.80046, 32.058989000000004],
  [34.800455, 32.059179],
  [34.800259999999994, 32.059176],
  [34.799403999999996, 32.059156],
  [34.798023, 32.05912],
  [34.797896, 32.059138],
  [34.797865, 32.05914],
  [34.797451, 32.059142],
  [34.797312, 32.059143],
  [34.797212, 32.059143],
  [34.796640000000004, 32.059139],
  [34.796493, 32.059138],
  [34.795784999999995, 32.05912],
  [34.794606, 32.059146000000005],
  [34.793881, 32.059166],
  [34.793457000000004, 32.059177000000005],
  [34.792972, 32.059194],
  [34.792469, 32.059212],
  [34.79226, 32.059221],
  [34.792126, 32.059313],
  [34.79209, 32.059348],
  [34.792007, 32.05942],
  [34.792023, 32.059906],
  [34.79203, 32.060014],
  [34.792041999999995, 32.060234],
  [34.792055, 32.060534000000004],
  [34.792055, 32.060883000000004],
  [34.792057, 32.060952],
  [34.792061, 32.06106],
  [34.79208, 32.0616],
  [34.792087, 32.061685],
  [34.792095, 32.061898],
  [34.792097999999996, 32.061966999999996],
  [34.792134999999995, 32.062484000000005],
  [34.792139, 32.062531],
  [34.792142999999996, 32.062567],
  [34.792152, 32.062673],
  [34.792183, 32.062940000000005],
  [34.792242, 32.063448],
  [34.792322999999996, 32.06415],
  [34.79233, 32.064208],
  [34.792343, 32.064316999999996],
  [34.792353999999996, 32.064445],
  [34.792356, 32.064463],
  [34.792404, 32.06474],
  [34.792483000000004, 32.065062],
  [34.792534, 32.065275],
  [34.792646999999995, 32.065841],
  [34.792707, 32.066086],
  [34.792931, 32.067028],
  [34.79294, 32.067066],
  [34.793003999999996, 32.067336],
  [34.793217, 32.068138],
  [34.793234000000005, 32.068201],
  [34.793304, 32.068388],
  [34.793535999999996, 32.069063],
  [34.793575, 32.069179],
  [34.793594, 32.069235],
  [34.793613, 32.069319],
  [34.793742, 32.069790999999995],
  [34.793851000000004, 32.070291999999995],
  [34.793859999999995, 32.070318],
  [34.793898999999996, 32.070426],
  [34.794195, 32.071269],
  [34.79421, 32.07131],
  [34.794359, 32.071636],
  [34.794395, 32.071715999999995],
  [34.794635, 32.072340999999994],
  [34.794689, 32.072483],
  [34.794717, 32.072555],
  [34.794812, 32.072819],
  [34.795048, 32.073475],
  [34.795141, 32.073671999999995],
  [34.795957, 32.073411],
  [34.796855, 32.073125],
  [34.796929999999996, 32.073099],
  [34.797503000000006, 32.072902],
  [34.797515000000004, 32.072865],
  [34.797511, 32.072831],
  [34.797503999999996, 32.0728],
  [34.797441, 32.072648],
  [34.797253999999995, 32.072261],
  [34.797171, 32.072047],
  [34.797044, 32.071744],
  [34.796038, 32.072062],
  [34.795796, 32.072134000000005],
  [34.79535, 32.072266],
  [34.795099, 32.072348],
  [34.794757000000004, 32.072458000000005],
  [34.794689, 32.072483],
  [34.794647999999995, 32.072497],
  [34.7946, 32.072515],
  [34.794327, 32.072607],
  [34.793971, 32.07273],
  [34.793828999999995, 32.072777],
  [34.793568, 32.072865],
  [34.793153000000004, 32.073004],
  [34.792896, 32.07309],
  [34.792613, 32.073184000000005],
  [34.7923, 32.073279],
  [34.792223, 32.0733],
  [34.79201, 32.073356],
  [34.791866999999996, 32.073392],
  [34.791761, 32.073415999999995],
  [34.791738, 32.073421],
  [34.791672999999996, 32.073434000000006],
  [34.791578, 32.073446999999994],
  [34.791478000000005, 32.073459],
  [34.791426, 32.073464],
  [34.791303000000006, 32.073468],
  [34.791115999999995, 32.073473],
  [34.791004, 32.07347],
  [34.790614, 32.073458],
  [34.790444, 32.073453],
  [34.790365, 32.073446000000004],
  [34.790189, 32.073446000000004],
  [34.789431, 32.073427],
  [34.788893, 32.073421],
  [34.788077, 32.073414],
  [34.787620000000004, 32.073431],
  [34.787406, 32.073431],
  [34.787197, 32.073440000000005],
  [34.786673, 32.073456],
  [34.786076, 32.073475],
  [34.785619, 32.073479],
  [34.785546000000004, 32.073476],
  [34.78536, 32.073485999999995],
  [34.784741, 32.073516],
  [34.784177, 32.073515],
  [34.78367, 32.073515],
  [34.783599, 32.073515],
  [34.782848, 32.073515],
  [34.782533, 32.073508000000004],
  [34.782148, 32.073510999999996],
  [34.782038, 32.07352],
  [34.78195, 32.073532],
  [34.781926, 32.073538],
  [34.781837, 32.073561],
  [34.781701, 32.073599],
  [34.781616, 32.073624],
  [34.781482000000004, 32.073663],
  [34.781337, 32.073698],
  [34.781125, 32.073737],
  [34.780648, 32.073808],
  [34.78051, 32.073858],
  [34.780281, 32.073921999999996],
  [34.779977, 32.07399],
  [34.779751, 32.074038],
  [34.779107, 32.074137],
  [34.779003, 32.074153],
  [34.776709999999994, 32.074626],
  [34.77643, 32.074671],
  [34.775863, 32.074795],
  [34.775612, 32.074982],
  [34.775546999999996, 32.075026],
  [34.77552, 32.075055],
  [34.775498, 32.075078999999995],
  [34.775494, 32.075084999999994],
  [34.775405, 32.075163],
  [34.775271000000004, 32.075297],
  [34.775118, 32.075476],
  [34.775036, 32.075603],
  [34.775015, 32.075627000000004],
  [34.774991, 32.075654],
  [34.774896999999996, 32.075787],
  [34.774814, 32.075952],
  [34.77479, 32.076005],
  [34.774509, 32.076796],
  [34.774478, 32.076884],
  [34.774336, 32.077371],
  [34.774299, 32.077475],
  [34.774297999999995, 32.077577000000005],
  [34.774307, 32.077614000000004],
  [34.774328999999994, 32.077651],
  [34.774361999999996, 32.077689],
  [34.774478, 32.077777000000005],
  [34.774519, 32.077818],
  [34.774551, 32.077863],
  [34.774569, 32.077901000000004],
  [34.774575, 32.077944],
  [34.774578999999996, 32.077976],
  [34.774575, 32.07801],
  [34.774555, 32.078084000000004],
  [34.774514, 32.078185],
  [34.774531, 32.078239],
  [34.774542, 32.078264000000004],
  [34.77456, 32.078283],
  [34.77475, 32.078567],
  [34.774945, 32.079084],
  [34.775057000000004, 32.079547999999996],
  [34.775094, 32.079698],
  [34.775656, 32.081464000000004],
  [34.776223, 32.083444],
  [34.776274, 32.083521999999995],
  [34.776308, 32.083574],
  [34.776684, 32.084154],
  [34.777026, 32.084656],
  [34.77713, 32.085011],
  [34.777159999999995, 32.085229],
  [34.777144, 32.085471999999996],
  [34.777076, 32.085840999999995],
  [34.777104, 32.086389000000004],
  [34.776340999999995, 32.086587],
  [34.774929, 32.086899],
  [34.775158000000005, 32.087794],
  [34.775247, 32.088128000000005],
  [34.77531, 32.088396],
  [34.775517, 32.089277],
  [34.775667, 32.089878000000006],
  [34.775715000000005, 32.090074],
  [34.775797999999995, 32.090342],
  [34.775919, 32.090834],
  [34.776109000000005, 32.091608],
  [34.776144, 32.091786],
  [34.776270000000004, 32.092314],
  [34.776292, 32.092407],
  [34.776309000000005, 32.092478],
  [34.776461, 32.093070000000004],
  [34.776734000000005, 32.094117],
  [34.776734999999995, 32.094184999999996],
  [34.776722, 32.094243],
  [34.776459, 32.094818],
  [34.776262, 32.095416],
  [34.776182, 32.095659000000005],
  [34.776057, 32.09601],
  [34.775987, 32.096523],
  [34.77597, 32.096653],
  [34.775929, 32.096965999999995],
  [34.775915000000005, 32.097091999999996],
  [34.775909000000006, 32.09724],
  [34.775949, 32.097253],
  [34.7765, 32.097434],
  [34.776905, 32.097564],
  [34.776984000000006, 32.097589],
  [34.777115, 32.097640000000006],
  [34.777676, 32.097844],
  [34.777829, 32.097895],
  [34.778095, 32.097983],
  [34.778664, 32.098164000000004],
  [34.778847999999996, 32.098203000000005],
  [34.779068, 32.098242],
  [34.779422, 32.098307],
  [34.779962, 32.098378000000004],
  [34.780282, 32.098401],
  [34.781224, 32.098452],
  [34.782101000000004, 32.098496000000004],
  [34.782765000000005, 32.09854],
  [34.783128000000005, 32.098555],
  [34.783239, 32.098563],
  [34.783317, 32.098568],
  [34.783442, 32.098577],
  [34.783378000000006, 32.09872],
  [34.783326, 32.098836999999996],
  [34.783159999999995, 32.099139],
  [34.783, 32.099428],
  [34.78289, 32.099628],
  [34.782334000000006, 32.100583],
  [34.781987, 32.101178999999995],
  [34.781896, 32.101416],
  [34.781876000000004, 32.101521999999996],
  [34.78188, 32.101673999999996],
  [34.781901, 32.101724],
  [34.781954, 32.101789000000004],
  [34.78196, 32.101794],
  [34.782044, 32.10187],
  [34.782121000000004, 32.101914],
  [34.782195, 32.101942],
  [34.784137, 32.102173],
  [34.784714, 32.102258],
  [34.784795, 32.102269],
  [34.785236, 32.102334],
  [34.786069, 32.102452],
  [34.786215999999996, 32.102476],
  [34.787138, 32.102612],
  [34.787395000000004, 32.102645],
  [34.787646, 32.102682],
  [34.787852, 32.102707],
  [34.788453999999994, 32.102745],
  [34.788717999999996, 32.102771000000004],
  [34.788829, 32.102789],
  [34.788906, 32.102802000000004],
  [34.788947, 32.102804],
  [34.789068, 32.102851],
  [34.789055, 32.10293],
  [34.789032, 32.103136],
  [34.788919, 32.103814],
  [34.788762, 32.104424],
  [34.78867, 32.104787],
  [34.788601, 32.105051],
  [34.788546000000004, 32.105331],
  [34.788515999999994, 32.105546999999994],
  [34.788498, 32.105774],
  [34.788511, 32.106589],
  [34.788562, 32.106946],
  [34.788944, 32.108921],
  [34.788962, 32.10901],
  [34.789217, 32.110256],
  [34.789232, 32.110328],
  [34.78926, 32.110475],
  [34.78945, 32.111576],
  [34.789497999999995, 32.111855],
  [34.789644, 32.112124],
  [34.789669, 32.112138],
  [34.789749, 32.112186],
  [34.789992, 32.112263],
  [34.790471999999994, 32.1123],
  [34.790795, 32.112324],
  [34.791138000000004, 32.112361],
  [34.791358, 32.112377],
  [34.791658, 32.112417],
  [34.791874, 32.112457],
  [34.792278, 32.112503000000004],
  [34.792425, 32.112518],
  [34.792589, 32.112534000000004],
  [34.792978999999995, 32.112575],
  [34.793440999999994, 32.112608],
  [34.793754, 32.112629999999996],
  [34.794089, 32.112663],
  [34.794169000000004, 32.112671],
  [34.794419, 32.112695],
  [34.794851, 32.112727],
  [34.795617, 32.112788],
  [34.795753999999995, 32.112798],
  [34.795787, 32.112801],
  [34.79585, 32.112809999999996],
  [34.796294, 32.112857],
  [34.796820000000004, 32.112911],
  [34.797205, 32.11294],
  [34.797635, 32.112974],
  [34.797734000000005, 32.112982],
  [34.798056, 32.113012],
  [34.799104, 32.113113],
  [34.800481, 32.113233],
  [34.800732, 32.113254],
  [34.801128999999996, 32.113299],
  [34.801371, 32.113316999999995],
  [34.801538, 32.113325],
  [34.801528999999995, 32.113421],
  [34.801528999999995, 32.113454],
  [34.801429, 32.114697],
  [34.801375, 32.115210999999995],
  [34.801361, 32.115846999999995],
  [34.801419, 32.116581],
  [34.801477, 32.117306],
  [34.801505, 32.117486],
  [34.801512, 32.117519],
  [34.801612, 32.117987],
  [34.801682, 32.118072999999995],
  [34.801724, 32.118096],
  [34.801857, 32.118097],
  [34.802383, 32.118016],
  [34.803515999999995, 32.117804],
  [34.803484000000005, 32.117728],
  [34.803474, 32.117676],
  [34.803470000000004, 32.11761],
  [34.803473, 32.117203],
  [34.803434, 32.117104],
  [34.804014, 32.117079],
  [34.804039, 32.117113],
  [34.80406, 32.117157],
  [34.804064000000004, 32.117233],
  [34.804062, 32.117528],
];

const reverseCoordinates = (
  coordsArr: [number, number][]
): [number, number][] => {
  return coordsArr.map((coord) => [coord[1], coord[0]]);
};
const middleOfRoute = Math.round(polyline.length / 2);
const endOfRoute = polyline.length;
const RouteMap = () => {
  return (
    <MapContainer
      center={reverseCoordinates(polyline)[middleOfRoute]}
      zoom={13.6}
      zoomSnap={0.1}
      scrollWheelZoom={true}
      dragging={false}
      zoomControl={false}
      attributionControl={false}
      // bounds={reverseCoordinates(polyline)}
      style={{
        background: "pink",
        height: 1000,
        width: "100%",
        border: "50px white solid",
      }
    }
    >
      <MapConsumer>
        {(map) => {
          map.fitBounds(reverseCoordinates(polyline), {maxZoom: 13.6});
          return (
            <FeatureGroup>
              <Polyline
                pathOptions={{ color: "white", weight: 10 }}
                positions={reverseCoordinates(polyline)}
              />
              <Marker
                position={[32.073112, 34.792974]}
                icon={
                  new Icon({
                    iconUrl: "/point.svg",
                    iconSize: [1, 1],
                  })
                }
              >
                <Tooltip permanent css={'background: transparent'} >שקד</Tooltip>
              </Marker>
            </FeatureGroup>
          );
        }}
      </MapConsumer>
    </MapContainer>
  );
};

export default RouteMap;
